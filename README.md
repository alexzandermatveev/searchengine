# searchengine


### Поисковый движок для сайтов, разработанный на Java. Это приложение сканирует сайты и предоставляет интерфейс API для выполнения поисковых запросов.

### Особенности
- Многопоточная индексация: обработка страниц с использованием ForkJoinPool для параллельного обхода;
- Поддержка морфологического анализа: использование лемматизации (Apache Lucene) для обработки русских и английских слов;
- Spring Boot: управление зависимостями и структурой приложения, REST API;
- MySQL: база данных для хранения информации о страницах, сайтах, леммах и индексе.
  

### Стек

- Java (JDK 17);
- Spring Boot: фреймворк для управления зависимостями и создания REST API;
- Hibernate: ORM для работы с базой данных;
- MySQL: для хранения проиндексированных данных;
- Apache Lucene: морфологический анализ для поддержки русского и английского языка;
- Docker: контейнеризация для упрощения запуска и развертывания.

### Установка и настройка

#### Для запуска проекта необходимы:

- Java 17;
- MySQL;
- Docker.

Потребуется клонировать репозиторий и собрать проект при помощи Maven:<br>
    
    mvnw clean install

Далее из склонированного репозитория запускается docker-контейнер при помощи docker-compose файла:<br>

    docker-compose up

Остается запустить приложение:<br>

    java -jar ./searchengine-0.0.1-SNAPSHOT.jar

### API Endpoints

- /api/startIndexing: запускает индексацию всех сайтов (GET);
- /api/stopIndexing: останавливает текущую индексацию (GET);
- /api/indexPage: добавляет в индекс отдельную страницу (POST);
- /api/statistics: возвращает статистику индексации (GET);
- /api/search: выполняет поиск по заданному запросу (GET);
- /api/indexAllLemmas: запускается индексация лемм на найденных страницах (POST);
- /api/stopIndexLemmas: останавливается индексация лемм на найденных страницах (GET).

### Как это работает
1. Извлечение сайтов из списка в [файле-конфигурации](application.yaml);
2. Индексация сайтов: приложение сканирует главные страницы заданных сайтов, извлекает и сохраняет контент и ссылочную структуру. По найденным ссылкам происходит рекуррентный поиск при помощи `RecursiveTask`. У каждой ссылки проверяется принадлежность к материнскому домену, то есть к сайту с которого началось индексирование страниц;
3. Лемматизация: извлекаются нормальные формы слов, что позволяет проводить поиск с учетом морфологии;
4. Поиск: выполняется запрос к базе данных для поиска страниц, содержащих все слова из запроса, и оценивается их релевантность.

## Демо

Далее показан пример работы с приложением после проведенной индексации страниц.

![демонстрация работы приложения](demo.gif)
